# AMMF3-Core 介绍

欢迎使用 AMMF3-Core（Advanced Multi-Modal Framework 3 Core），这是一个专为 Android 环境设计的高性能、生产就绪的日志记录和文件监控框架。

## 🎯 什么是 AMMF3-Core？

AMMF3-Core 是一个全面的 C++ 框架，为 Android 应用程序提供两个核心组件：

1. **高性能日志器** - 支持守护进程模式的强大日志系统
2. **实时文件监视器** - 高效的文件系统监控解决方案

以性能和可靠性为设计理念，AMMF3-Core 旨在处理现代 Android 应用程序的严苛要求，同时保持最小的资源开销。

## 🌟 主要特性

### Logger 组件

- **多种日志模式**
  - 同步日志记录，立即写入
  - 异步日志记录，适用于高性能场景
  - 守护进程模式，支持系统级日志记录

- **高级文件管理**
  - 基于大小或时间的自动日志轮转
  - 压缩支持，节省存储空间
  - 可配置的保留策略

- **性能优化**
  - 内存映射文件 I/O
  - 带可配置刷新间隔的缓冲写入
  - 多线程处理

- **灵活输出**
  - 多个日志级别（DEBUG、INFO、WARN、ERROR、FATAL）
  - 自定义格式选项
  - 多个输出目标

### FileWatcher 组件

- **实时监控**
  - 基于 Linux inotify 的实现
  - 支持所有标准文件系统事件
  - 递归目录监视

- **事件过滤**
  - 可配置的事件类型
  - 文件模式匹配
  - 自定义过滤函数

- **性能特性**
  - 事件批处理和去重
  - 高效的回调机制
  - 最小 CPU 开销

- **可扩展性**
  - 支持数千个监视文件
  - 自动资源管理
  - 系统限制感知

## 🏗️ 架构概览

### 系统架构

```
┌─────────────────────────────────────────────────────────────┐
│                      应用程序层                             │
├─────────────────────────────────────────────────────────────┤
│                    AMMF3-Core APIs                         │
├─────────────────┬───────────────────────┬───────────────────┤
│   Logger API    │    FileWatcher API    │    CLI 工具       │
├─────────────────┼───────────────────────┼───────────────────┤
│  Logger 核心    │   FileWatcher 核心    │    实用工具       │
├─────────────────┼───────────────────────┼───────────────────┤
│   缓冲区管理    │     监视器核心        │   IPC 客户端      │
│   文件管理      │     事件处理器        │   配置管理器      │
│   Logger 守护   │     过滤引擎          │   性能工具        │
├─────────────────┴───────────────────────┴───────────────────┤
│                      系统层                                 │
│                (Linux 内核, Android)                       │
└─────────────────────────────────────────────────────────────┘
```

### 组件交互

- **Logger 组件** 协同工作提供完整的日志解决方案
- **FileWatcher 组件** 处理文件系统事件监控
- **共享实用工具** 为各组件提供通用功能
- **系统集成** 确保在 Android 上的最佳性能

## 🎯 使用场景

### 应用程序日志记录

- **调试日志**: 开发期间的详细调试信息
- **生产日志**: 生产应用程序的结构化日志记录
- **性能监控**: 跟踪应用程序性能指标
- **错误跟踪**: 全面的错误日志记录和分析

### 文件系统监控

- **配置变更**: 监控应用配置文件变更
- **数据同步**: 跟踪文件变更以进行同步操作
- **安全监控**: 检测未授权的文件访问
- **备份操作**: 监控文件以触发备份

### 系统集成

- **多进程应用**: 跨进程的集中式日志记录
- **服务应用**: 后台服务日志记录
- **原生库**: C++ 库集成
- **跨平台开发**: 跨平台的一致日志记录

## 🚀 为什么选择 AMMF3-Core？

### 性能优势

- **低延迟**: 优化以实现最小的日志开销
- **高吞吐量**: 每秒处理数千条日志条目
- **内存高效**: 智能缓冲区管理和内存池
- **CPU 优化**: 文件监控的最小 CPU 使用

### 可靠性特性

- **崩溃安全**: 强大的错误处理和恢复
- **数据完整性**: 确保日志数据一致性
- **资源管理**: 自动清理和资源限制
- **系统集成**: 正确的 Android 生命周期管理

### 开发者体验

- **简单 API**: 易于使用的 C++ 接口
- **全面文档**: 详细的指南和示例
- **灵活配置**: 广泛的自定义选项
- **调试支持**: 内置调试和性能分析工具

## 📋 要求

### 系统要求

- **Android 版本**: Android 5.0+ (API Level 21+)
- **架构**: ARM64、ARMv7、x86_64
- **NDK 版本**: Android NDK r21 或更高版本
- **C++ 标准**: C++17 或更高版本

### 构建要求

- **CMake**: 3.10 或更高版本
- **编译器**: Clang (NDK) 或 GCC
- **构建系统**: Make 或 Ninja

### 运行时要求

- **权限**: 日志记录的存储访问权限
- **内存**: 最少 50MB 可用 RAM
- **存储**: 日志文件的足够空间

## 🔄 开发工作流程

### 入门

1. **设置环境**: 安装 Android NDK 和构建工具
2. **克隆仓库**: 获取 AMMF3-Core 源代码
3. **构建框架**: 为目标架构编译
4. **集成**: 添加到您的 Android 项目
5. **配置**: 设置日志记录和监控

### 开发周期

1. **设计**: 规划您的日志记录和监控策略
2. **实现**: 集成 AMMF3-Core API
3. **测试**: 验证功能和性能
4. **优化**: 为您的用例微调配置
5. **部署**: 部署到生产环境并进行监控

## 🔗 下一步

准备开始使用 AMMF3-Core？以下是接下来要做的：

1. **[入门指南](/zh/guide/getting-started)** - 设置您的开发环境
2. **[从源码构建](/zh/guide/building)** - 为您的平台编译 AMMF3-Core
3. **[API 参考](/zh/api/)** - 探索完整的 API 文档
4. **[示例](/zh/examples/basic-usage)** - 查看实际使用示例
5. **[性能指南](/zh/guide/performance)** - 为您的特定需求进行优化

## 📞 社区和支持

- **文档**: 全面的指南和 API 参考
- **示例**: 真实世界的使用模式和最佳实践
- **GitHub Issues**: 错误报告和功能请求
- **讨论**: 社区支持和知识分享

---

**准备使用 AMMF3-Core 构建高性能 Android 应用程序？** 从我们的[入门指南](/zh/guide/getting-started)开始，加入构建强大、高效 Android 解决方案的开发者社区。